#{to_json =>
   {with_defs,
    {#{<<"ThreadArchiveParams">> => {struct,#{threadId => {required,binstr}}},
       <<"TurnStartParams">> =>
        {struct,
         #{input => {required,{list,{ref,<<"UserInput">>}}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           threadId => {required,binstr},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           summary =>
            {optional,{any_of,[{ref,<<"ReasoningSummary">>},{exact,null}]}},
           sandboxPolicy =>
            {optional,{any_of,[{ref,<<"SandboxPolicy">>},{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval">>},{exact,null}]}},
           effort =>
            {optional,{any_of,[{ref,<<"ReasoningEffort">>},{exact,null}]}},
           outputSchema => {optional,term},
           personality =>
            {optional,{any_of,[{ref,<<"Personality">>},{exact,null}]}},
           collaborationMode =>
            {optional,{any_of,[{ref,<<"CollaborationMode">>},{exact,null}]}}}},
       <<"AppsListParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ListConversationsParams">> =>
        {struct,
         #{cursor => {optional,{any_of,[binstr,{exact,null}]}},
           modelProviders => {optional,{any_of,[{list,binstr},{exact,null}]}},
           pageSize => {optional,{any_of,[integer,{exact,null}]}}}},
       <<"ArchiveConversationParams">> =>
        {struct,
         #{conversationId => {required,{ref,<<"ThreadId">>}},
           rolloutPath => {required,binstr}}},
       <<"McpServerOauthLoginParams">> =>
        {struct,
         #{name => {required,binstr},
           scopes => {optional,{any_of,[{list,binstr},{exact,null}]}},
           timeoutSecs => {optional,{any_of,[integer,{exact,null}]}}}},
       <<"AskForApproval">> =>
        {enum,[untrusted,'on-failure','on-request',never]},
       <<"ReasoningEffort">> => {enum,[none,minimal,low,medium,high,xhigh]},
       <<"SkillsRemoteReadParams">> => {map,{binstr,term}},
       <<"ResponseItem">> =>
        {any_of,
         [{struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             type => {required,{enum,[message]}},
             phase =>
              {optional,{any_of,[{ref,<<"MessagePhase">>},{exact,null}]}},
             content => {required,{list,{ref,<<"ContentItem">>}}},
             end_turn => {optional,{any_of,[boolean,{exact,null}]}},
             role => {required,binstr}}},
          {struct,
           #{id => {required,binstr},
             type => {required,{enum,[reasoning]}},
             content =>
              {optional,
               {default,
                {null,
                 {any_of,
                  [{list,{ref,<<"ReasoningItemContent">>}},{exact,null}]}}}},
             summary =>
              {required,{list,{ref,<<"ReasoningItemReasoningSummary">>}}},
             encrypted_content => {optional,{any_of,[binstr,{exact,null}]}}}},
          {struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             status => {required,{ref,<<"LocalShellStatus">>}},
             type => {required,{enum,[local_shell_call]}},
             action => {required,{ref,<<"LocalShellAction">>}},
             call_id => {optional,{any_of,[binstr,{exact,null}]}}}},
          {struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             name => {required,binstr},
             type => {required,{enum,[function_call]}},
             arguments => {required,binstr},
             call_id => {required,binstr}}},
          {struct,
           #{output => {required,{ref,<<"FunctionCallOutputPayload">>}},
             type => {required,{enum,[function_call_output]}},
             call_id => {required,binstr}}},
          {struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             input => {required,binstr},
             name => {required,binstr},
             status => {optional,{any_of,[binstr,{exact,null}]}},
             type => {required,{enum,[custom_tool_call]}},
             call_id => {required,binstr}}},
          {struct,
           #{output => {required,binstr},
             type => {required,{enum,[custom_tool_call_output]}},
             call_id => {required,binstr}}},
          {struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             status => {optional,{any_of,[binstr,{exact,null}]}},
             type => {required,{enum,[web_search_call]}},
             action =>
              {optional,{any_of,[{ref,<<"WebSearchAction">>},{exact,null}]}}}},
          {struct,
           #{type => {required,{enum,[ghost_snapshot]}},
             ghost_commit => {required,{ref,<<"GhostCommit">>}}}},
          {struct,
           #{type => {required,{enum,[compaction]}},
             encrypted_content => {required,binstr}}},
          {struct,#{type => {required,{enum,[other]}}}}]},
       <<"AddConversationListenerParams">> =>
        {struct,
         #{conversationId => {required,{ref,<<"ThreadId">>}},
           experimentalRawEvents => {optional,{default,{false,boolean}}}}},
       <<"MessagePhase">> => {enum,[commentary,final_answer]},
       <<"FunctionCallOutputPayload">> =>
        {struct,
         #{success => {optional,{any_of,[boolean,{exact,null}]}},
           body => {required,{ref,<<"FunctionCallOutputBody">>}}}},
       <<"SandboxPolicy">> =>
        {any_of,
         [{struct,#{type => {required,{enum,[dangerFullAccess]}}}},
          {struct,#{type => {required,{enum,[readOnly]}}}},
          {struct,
           #{type => {required,{enum,[externalSandbox]}},
             networkAccess =>
              {optional,
               {default,
                {<<"restricted">>,{all_of,[{ref,<<"NetworkAccess">>}]}}}}}},
          {struct,
           #{type => {required,{enum,[workspaceWrite]}},
             networkAccess => {optional,{default,{false,boolean}}},
             excludeSlashTmp => {optional,{default,{false,boolean}}},
             excludeTmpdirEnvVar => {optional,{default,{false,boolean}}},
             writableRoots =>
              {optional,{default,{[],{list,{ref,<<"AbsolutePathBuf">>}}}}}}}]},
       <<"TextElement">> =>
        {struct,
         #{byteRange => {required,{all_of,[{ref,<<"ByteRange">>}]}},
           placeholder => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ThreadRollbackParams">> =>
        {struct,
         #{threadId => {required,binstr},numTurns => {required,integer}}},
       <<"ThreadListParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}},
           modelProviders => {optional,{any_of,[{list,binstr},{exact,null}]}},
           archived => {optional,{any_of,[boolean,{exact,null}]}},
           sortKey =>
            {optional,{any_of,[{ref,<<"ThreadSortKey">>},{exact,null}]}},
           sourceKinds =>
            {optional,
             {any_of,[{list,{ref,<<"ThreadSourceKind">>}},{exact,null}]}}}},
       <<"UserInput">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[text]}},
             text => {required,binstr},
             text_elements =>
              {optional,{default,{[],{list,{ref,<<"TextElement">>}}}}}}},
          {struct,
           #{type => {required,{enum,[image]}},url => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[localImage]}},
             path => {required,binstr}}},
          {struct,
           #{name => {required,binstr},
             type => {required,{enum,[skill]}},
             path => {required,binstr}}},
          {struct,
           #{name => {required,binstr},
             type => {required,{enum,[mention]}},
             path => {required,binstr}}}]},
       <<"ModelListParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"FeedbackUploadParams">> =>
        {struct,
         #{reason => {optional,{any_of,[binstr,{exact,null}]}},
           threadId => {optional,{any_of,[binstr,{exact,null}]}},
           classification => {required,binstr},
           includeLogs => {required,boolean}}},
       <<"AbsolutePathBuf">> => binstr,
       <<"FunctionCallOutputContentItem">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[input_text]}},
             text => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[input_image]}},
             image_url => {required,binstr}}}]},
       <<"ConfigBatchWriteParams">> =>
        {struct,
         #{filePath => {optional,{any_of,[binstr,{exact,null}]}},
           edits => {required,{list,{ref,<<"ConfigEdit">>}}},
           expectedVersion => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ResumeConversationParams">> =>
        {struct,
         #{path => {optional,{any_of,[binstr,{exact,null}]}},
           history =>
            {optional,{any_of,[{list,{ref,<<"ResponseItem">>}},{exact,null}]}},
           conversationId =>
            {optional,{any_of,[{ref,<<"ThreadId">>},{exact,null}]}},
           overrides =>
            {optional,
             {any_of,[{ref,<<"NewConversationParams">>},{exact,null}]}}}},
       <<"ReviewDelivery">> => {enum,[inline,detached]},
       <<"ThreadId">> => binstr,
       <<"CancelLoginAccountParams">> =>
        {struct,#{loginId => {required,binstr}}},
       <<"AskForApproval2">> =>
        {any_of,
         [{enum,[untrusted]},
          {enum,['on-failure']},
          {enum,['on-request']},
          {enum,[never]}]},
       <<"SkillsRemoteWriteParams">> =>
        {struct,
         #{hazelnutId => {required,binstr},isPreload => {required,boolean}}},
       <<"ReviewTarget">> =>
        {any_of,
         [{struct,#{type => {required,{enum,[uncommittedChanges]}}}},
          {struct,
           #{type => {required,{enum,[baseBranch]}},
             branch => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[commit]}},
             title => {optional,{any_of,[binstr,{exact,null}]}},
             sha => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[custom]}},
             instructions => {required,binstr}}}]},
       <<"ThreadCompactStartParams">> =>
        {struct,#{threadId => {required,binstr}}},
       <<"ConfigEdit">> =>
        {struct,
         #{value => {required,term},
           keyPath => {required,binstr},
           mergeStrategy => {required,{ref,<<"MergeStrategy">>}}}},
       <<"ForkConversationParams">> =>
        {struct,
         #{path => {optional,{any_of,[binstr,{exact,null}]}},
           conversationId =>
            {optional,{any_of,[{ref,<<"ThreadId">>},{exact,null}]}},
           overrides =>
            {optional,
             {any_of,[{ref,<<"NewConversationParams">>},{exact,null}]}}}},
       <<"FunctionCallOutputBody">> =>
        {any_of,[binstr,{list,{ref,<<"FunctionCallOutputContentItem">>}}]},
       <<"ClientInfo">> =>
        {struct,
         #{name => {required,binstr},
           version => {required,binstr},
           title => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"Settings">> =>
        {struct,
         #{model => {required,binstr},
           developer_instructions => {optional,{any_of,[binstr,{exact,null}]}},
           reasoning_effort =>
            {optional,{any_of,[{ref,<<"ReasoningEffort">>},{exact,null}]}}}},
       <<"LoginApiKeyParams">> => {struct,#{apiKey => {required,binstr}}},
       <<"GitDiffToRemoteParams">> => {struct,#{cwd => {required,binstr}}},
       <<"InputItem">> =>
        {any_of,
         [{struct,
           #{data =>
              {required,
               {struct,
                #{text => {required,binstr},
                  text_elements =>
                   {optional,
                    {default,{[],{list,{ref,<<"V1TextElement">>}}}}}}}},
             type => {required,{enum,[text]}}}},
          {struct,
           #{data => {required,{struct,#{image_url => {required,binstr}}}},
             type => {required,{enum,[image]}}}},
          {struct,
           #{data => {required,{struct,#{path => {required,binstr}}}},
             type => {required,{enum,[localImage]}}}}]},
       <<"LocalShellStatus">> => {enum,[completed,in_progress,incomplete]},
       <<"SkillsListParams">> =>
        {struct,
         #{cwds => {optional,{list,binstr}},
           forceReload => {optional,boolean}}},
       <<"SandboxMode">> =>
        {enum,['read-only','workspace-write','danger-full-access']},
       <<"NewConversationParams">> =>
        {struct,
         #{profile => {optional,{any_of,[binstr,{exact,null}]}},
           config => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval2">>},{exact,null}]}},
           baseInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           compactPrompt => {optional,{any_of,[binstr,{exact,null}]}},
           developerInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           includeApplyPatchTool => {optional,{any_of,[boolean,{exact,null}]}},
           modelProvider => {optional,{any_of,[binstr,{exact,null}]}},
           sandbox =>
            {optional,{any_of,[{ref,<<"SandboxMode2">>},{exact,null}]}}}},
       <<"InterruptConversationParams">> =>
        {struct,#{conversationId => {required,{ref,<<"ThreadId">>}}}},
       <<"GhostCommit">> =>
        {struct,
         #{id => {required,binstr},
           parent => {optional,{any_of,[binstr,{exact,null}]}},
           preexisting_untracked_dirs => {required,{list,binstr}},
           preexisting_untracked_files => {required,{list,binstr}}}},
       <<"ThreadSortKey">> => {enum,[created_at,updated_at]},
       <<"ListMcpServerStatusParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"V1ByteRange">> =>
        {struct,#{start => {required,integer},'end' => {required,integer}}},
       <<"NetworkAccess2">> => {enum,[restricted,enabled]},
       <<"ModeKind">> => {enum,[plan,default]},
       <<"Personality">> => {enum,[none,friendly,pragmatic]},
       <<"ThreadStartParams">> =>
        {struct,
         #{config => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval">>},{exact,null}]}},
           personality =>
            {optional,{any_of,[{ref,<<"Personality">>},{exact,null}]}},
           experimentalRawEvents => {optional,{default,{false,boolean}}},
           baseInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           developerInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           modelProvider => {optional,{any_of,[binstr,{exact,null}]}},
           sandbox =>
            {optional,{any_of,[{ref,<<"SandboxMode">>},{exact,null}]}},
           ephemeral => {optional,{any_of,[boolean,{exact,null}]}}}},
       <<"ReasoningItemReasoningSummary">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[summary_text]}},
             text => {required,binstr}}}]},
       <<"SendUserMessageParams">> =>
        {struct,
         #{items => {required,{list,{ref,<<"InputItem">>}}},
           conversationId => {required,{ref,<<"ThreadId">>}}}},
       <<"GetConversationSummaryParams">> =>
        {any_of,
         [{struct,#{rolloutPath => {required,binstr}}},
          {struct,#{conversationId => {required,{ref,<<"ThreadId">>}}}}]},
       <<"SetDefaultModelParams">> =>
        {struct,
         #{model => {optional,{any_of,[binstr,{exact,null}]}},
           reasoningEffort =>
            {optional,{any_of,[{ref,<<"ReasoningEffort">>},{exact,null}]}}}},
       <<"ReasoningItemContent">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[reasoning_text]}},
             text => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[text]}},text => {required,binstr}}}]},
       <<"ThreadResumeParams">> =>
        {struct,
         #{config => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
           path => {optional,{any_of,[binstr,{exact,null}]}},
           history =>
            {optional,{any_of,[{list,{ref,<<"ResponseItem">>}},{exact,null}]}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           threadId => {required,binstr},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval">>},{exact,null}]}},
           personality =>
            {optional,{any_of,[{ref,<<"Personality">>},{exact,null}]}},
           baseInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           developerInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           modelProvider => {optional,{any_of,[binstr,{exact,null}]}},
           sandbox =>
            {optional,{any_of,[{ref,<<"SandboxMode">>},{exact,null}]}}}},
       <<"ThreadSourceKind">> =>
        {enum,
         [cli,vscode,exec,appServer,subAgent,subAgentReview,subAgentCompact,
          subAgentThreadSpawn,subAgentOther,unknown]},
       <<"FuzzyFileSearchParams">> =>
        {struct,
         #{query => {required,binstr},
           roots => {required,{list,binstr}},
           cancellationToken => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ThreadLoadedListParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ThreadReadParams">> =>
        {struct,
         #{threadId => {required,binstr},
           includeTurns => {optional,{default,{false,boolean}}}}},
       <<"SkillsConfigWriteParams">> =>
        {struct,#{enabled => {required,boolean},path => {required,binstr}}},
       <<"WebSearchAction">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[search]}},
             query => {optional,{any_of,[binstr,{exact,null}]}},
             queries => {optional,{any_of,[{list,binstr},{exact,null}]}}}},
          {struct,
           #{type => {required,{enum,[open_page]}},
             url => {optional,{any_of,[binstr,{exact,null}]}}}},
          {struct,
           #{type => {required,{enum,[find_in_page]}},
             pattern => {optional,{any_of,[binstr,{exact,null}]}},
             url => {optional,{any_of,[binstr,{exact,null}]}}}},
          {struct,#{type => {required,{enum,[other]}}}}]},
       <<"ConfigReadParams">> =>
        {struct,
         #{cwd => {optional,{any_of,[binstr,{exact,null}]}},
           includeLayers => {optional,{default,{false,boolean}}}}},
       <<"ByteRange">> =>
        {struct,#{start => {required,integer},'end' => {required,integer}}},
       <<"CancelLoginChatGptParams">> =>
        {struct,#{loginId => {required,binstr}}},
       <<"RemoveConversationListenerParams">> =>
        {struct,#{subscriptionId => {required,binstr}}},
       <<"ExecOneOffCommandParams">> =>
        {struct,
         #{command => {required,{list,binstr}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           sandboxPolicy =>
            {optional,{any_of,[{ref,<<"SandboxPolicy2">>},{exact,null}]}},
           timeoutMs => {optional,{any_of,[integer,{exact,null}]}}}},
       <<"NetworkAccess">> => {enum,[restricted,enabled]},
       <<"ReviewStartParams">> =>
        {struct,
         #{threadId => {required,binstr},
           delivery =>
            {optional,
             {default,
              {null,{any_of,[{ref,<<"ReviewDelivery">>},{exact,null}]}}}},
           target => {required,{ref,<<"ReviewTarget">>}}}},
       <<"ConfigValueWriteParams">> =>
        {struct,
         #{value => {required,term},
           filePath => {optional,{any_of,[binstr,{exact,null}]}},
           expectedVersion => {optional,{any_of,[binstr,{exact,null}]}},
           keyPath => {required,binstr},
           mergeStrategy => {required,{ref,<<"MergeStrategy">>}}}},
       <<"InitializeParams">> =>
        {struct,
         #{capabilities =>
            {optional,
             {any_of,[{ref,<<"InitializeCapabilities">>},{exact,null}]}},
           clientInfo => {required,{ref,<<"ClientInfo">>}}}},
       <<"ContentItem">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[input_text]}},
             text => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[input_image]}},
             image_url => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[output_text]}},
             text => {required,binstr}}}]},
       <<"RequestId">> => {any_of,[binstr,integer]},
       <<"ThreadForkParams">> =>
        {struct,
         #{config => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
           path => {optional,{any_of,[binstr,{exact,null}]}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           threadId => {required,binstr},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval">>},{exact,null}]}},
           baseInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           developerInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           modelProvider => {optional,{any_of,[binstr,{exact,null}]}},
           sandbox =>
            {optional,{any_of,[{ref,<<"SandboxMode">>},{exact,null}]}}}},
       <<"DynamicToolSpec">> =>
        {struct,
         #{name => {required,binstr},
           description => {required,binstr},
           inputSchema => {required,term}}},
       <<"SandboxMode2">> =>
        {enum,['read-only','workspace-write','danger-full-access']},
       <<"CollaborationMode">> =>
        {struct,
         #{mode => {required,{ref,<<"ModeKind">>}},
           settings => {required,{ref,<<"Settings">>}}}},
       <<"GetAccountParams">> =>
        {struct,#{refreshToken => {optional,{default,{false,boolean}}}}},
       <<"SandboxPolicy2">> =>
        {any_of,
         [{struct,#{type => {required,{enum,['danger-full-access']}}}},
          {struct,#{type => {required,{enum,['read-only']}}}},
          {struct,
           #{type => {required,{enum,['external-sandbox']}},
             network_access =>
              {optional,
               {default,
                {<<"restricted">>,{all_of,[{ref,<<"NetworkAccess2">>}]}}}}}},
          {struct,
           #{type => {required,{enum,['workspace-write']}},
             network_access => {optional,{default,{false,boolean}}},
             exclude_slash_tmp => {optional,{default,{false,boolean}}},
             exclude_tmpdir_env_var => {optional,{default,{false,boolean}}},
             writable_roots =>
              {optional,{list,{ref,<<"AbsolutePathBuf">>}}}}}]},
       <<"LoginAccountParams">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[apiKey]}},apiKey => {required,binstr}}},
          {struct,#{type => {required,{enum,[chatgpt]}}}},
          {struct,
           #{type => {required,{enum,[chatgptAuthTokens]}},
             accessToken => {required,binstr},
             idToken => {required,binstr}}}]},
       <<"GetAuthStatusParams">> =>
        {struct,
         #{refreshToken => {optional,{any_of,[boolean,{exact,null}]}},
           includeToken => {optional,{any_of,[boolean,{exact,null}]}}}},
       <<"ThreadSetNameParams">> =>
        {struct,#{name => {required,binstr},threadId => {required,binstr}}},
       <<"MergeStrategy">> => {enum,[replace,upsert]},
       <<"CommandExecParams">> =>
        {struct,
         #{command => {required,{list,binstr}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           sandboxPolicy =>
            {optional,{any_of,[{ref,<<"SandboxPolicy">>},{exact,null}]}},
           timeoutMs => {optional,{any_of,[integer,{exact,null}]}}}},
       <<"InitializeCapabilities">> =>
        {struct,#{experimentalApi => {optional,{default,{false,boolean}}}}},
       <<"ReasoningSummary">> =>
        {any_of,[{enum,[auto,concise,detailed]},{enum,[none]}]},
       <<"V1TextElement">> =>
        {struct,
         #{byteRange => {required,{all_of,[{ref,<<"V1ByteRange">>}]}},
           placeholder => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"SendUserTurnParams">> =>
        {struct,
         #{items => {required,{list,{ref,<<"InputItem">>}}},
           cwd => {required,binstr},
           conversationId => {required,{ref,<<"ThreadId">>}},
           model => {required,binstr},
           summary => {required,{ref,<<"ReasoningSummary">>}},
           sandboxPolicy => {required,{ref,<<"SandboxPolicy2">>}},
           approvalPolicy => {required,{ref,<<"AskForApproval2">>}},
           effort =>
            {optional,{any_of,[{ref,<<"ReasoningEffort">>},{exact,null}]}},
           outputSchema => {optional,term}}},
       <<"TurnInterruptParams">> =>
        {struct,#{threadId => {required,binstr},turnId => {required,binstr}}},
       <<"LocalShellAction">> =>
        {any_of,
         [{struct,
           #{command => {required,{list,binstr}},
             env => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
             type => {required,{enum,[exec]}},
             user => {optional,{any_of,[binstr,{exact,null}]}},
             timeout_ms => {optional,{any_of,[integer,{exact,null}]}},
             working_directory =>
              {optional,{any_of,[binstr,{exact,null}]}}}}]},
       <<"ThreadUnarchiveParams">> =>
        {struct,#{threadId => {required,binstr}}}},
     {any_of,
      [{struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"InitializeParams">>}},
          method => {required,{enum,[initialize]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadStartParams">>}},
          method => {required,{enum,['thread/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadResumeParams">>}},
          method => {required,{enum,['thread/resume']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadForkParams">>}},
          method => {required,{enum,['thread/fork']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadArchiveParams">>}},
          method => {required,{enum,['thread/archive']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadSetNameParams">>}},
          method => {required,{enum,['thread/name/set']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadUnarchiveParams">>}},
          method => {required,{enum,['thread/unarchive']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadCompactStartParams">>}},
          method => {required,{enum,['thread/compact/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadRollbackParams">>}},
          method => {required,{enum,['thread/rollback']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadListParams">>}},
          method => {required,{enum,['thread/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadLoadedListParams">>}},
          method => {required,{enum,['thread/loaded/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadReadParams">>}},
          method => {required,{enum,['thread/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SkillsListParams">>}},
          method => {required,{enum,['skills/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SkillsRemoteReadParams">>}},
          method => {required,{enum,['skills/remote/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SkillsRemoteWriteParams">>}},
          method => {required,{enum,['skills/remote/write']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"AppsListParams">>}},
          method => {required,{enum,['app/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SkillsConfigWriteParams">>}},
          method => {required,{enum,['skills/config/write']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"TurnStartParams">>}},
          method => {required,{enum,['turn/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"TurnInterruptParams">>}},
          method => {required,{enum,['turn/interrupt']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ReviewStartParams">>}},
          method => {required,{enum,['review/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ModelListParams">>}},
          method => {required,{enum,['model/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"McpServerOauthLoginParams">>}},
          method => {required,{enum,['mcpServer/oauth/login']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,['config/mcpServer/reload']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ListMcpServerStatusParams">>}},
          method => {required,{enum,['mcpServerStatus/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"LoginAccountParams">>}},
          method => {required,{enum,['account/login/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"CancelLoginAccountParams">>}},
          method => {required,{enum,['account/login/cancel']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,['account/logout']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,['account/rateLimits/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"FeedbackUploadParams">>}},
          method => {required,{enum,['feedback/upload']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"CommandExecParams">>}},
          method => {required,{enum,['command/exec']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ConfigReadParams">>}},
          method => {required,{enum,['config/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ConfigValueWriteParams">>}},
          method => {required,{enum,['config/value/write']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ConfigBatchWriteParams">>}},
          method => {required,{enum,['config/batchWrite']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,['configRequirements/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"GetAccountParams">>}},
          method => {required,{enum,['account/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"NewConversationParams">>}},
          method => {required,{enum,[newConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"GetConversationSummaryParams">>}},
          method => {required,{enum,[getConversationSummary]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ListConversationsParams">>}},
          method => {required,{enum,[listConversations]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ResumeConversationParams">>}},
          method => {required,{enum,[resumeConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ForkConversationParams">>}},
          method => {required,{enum,[forkConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ArchiveConversationParams">>}},
          method => {required,{enum,[archiveConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SendUserMessageParams">>}},
          method => {required,{enum,[sendUserMessage]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SendUserTurnParams">>}},
          method => {required,{enum,[sendUserTurn]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"InterruptConversationParams">>}},
          method => {required,{enum,[interruptConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"AddConversationListenerParams">>}},
          method => {required,{enum,[addConversationListener]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"RemoveConversationListenerParams">>}},
          method => {required,{enum,[removeConversationListener]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"GitDiffToRemoteParams">>}},
          method => {required,{enum,[gitDiffToRemote]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"LoginApiKeyParams">>}},
          method => {required,{enum,[loginApiKey]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[loginChatGpt]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"CancelLoginChatGptParams">>}},
          method => {required,{enum,[cancelLoginChatGpt]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[logoutChatGpt]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"GetAuthStatusParams">>}},
          method => {required,{enum,[getAuthStatus]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[getUserSavedConfig]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SetDefaultModelParams">>}},
          method => {required,{enum,[setDefaultModel]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[getUserAgent]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[userInfo]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"FuzzyFileSearchParams">>}},
          method => {required,{enum,[fuzzyFileSearch]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ExecOneOffCommandParams">>}},
          method => {required,{enum,[execOneOffCommand]}}}}]}}},
  from_json =>
   {with_defs,
    {#{<<"ThreadArchiveParams">> => {struct,#{threadId => {required,binstr}}},
       <<"TurnStartParams">> =>
        {struct,
         #{input => {required,{list,{ref,<<"UserInput">>}}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           threadId => {required,binstr},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           summary =>
            {optional,{any_of,[{ref,<<"ReasoningSummary">>},{exact,null}]}},
           sandboxPolicy =>
            {optional,{any_of,[{ref,<<"SandboxPolicy">>},{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval">>},{exact,null}]}},
           effort =>
            {optional,{any_of,[{ref,<<"ReasoningEffort">>},{exact,null}]}},
           outputSchema => {optional,term},
           personality =>
            {optional,{any_of,[{ref,<<"Personality">>},{exact,null}]}},
           collaborationMode =>
            {optional,{any_of,[{ref,<<"CollaborationMode">>},{exact,null}]}}}},
       <<"AppsListParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ListConversationsParams">> =>
        {struct,
         #{cursor => {optional,{any_of,[binstr,{exact,null}]}},
           modelProviders => {optional,{any_of,[{list,binstr},{exact,null}]}},
           pageSize => {optional,{any_of,[integer,{exact,null}]}}}},
       <<"ArchiveConversationParams">> =>
        {struct,
         #{conversationId => {required,{ref,<<"ThreadId">>}},
           rolloutPath => {required,binstr}}},
       <<"McpServerOauthLoginParams">> =>
        {struct,
         #{name => {required,binstr},
           scopes => {optional,{any_of,[{list,binstr},{exact,null}]}},
           timeoutSecs => {optional,{any_of,[integer,{exact,null}]}}}},
       <<"AskForApproval">> =>
        {enum,[untrusted,'on-failure','on-request',never]},
       <<"ReasoningEffort">> => {enum,[none,minimal,low,medium,high,xhigh]},
       <<"SkillsRemoteReadParams">> => {map,{binstr,term}},
       <<"ResponseItem">> =>
        {any_of,
         [{struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             type => {required,{enum,[message]}},
             phase =>
              {optional,{any_of,[{ref,<<"MessagePhase">>},{exact,null}]}},
             content => {required,{list,{ref,<<"ContentItem">>}}},
             end_turn => {optional,{any_of,[boolean,{exact,null}]}},
             role => {required,binstr}}},
          {struct,
           #{id => {required,binstr},
             type => {required,{enum,[reasoning]}},
             content =>
              {optional,
               {default,
                {null,
                 {any_of,
                  [{list,{ref,<<"ReasoningItemContent">>}},{exact,null}]}}}},
             summary =>
              {required,{list,{ref,<<"ReasoningItemReasoningSummary">>}}},
             encrypted_content => {optional,{any_of,[binstr,{exact,null}]}}}},
          {struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             status => {required,{ref,<<"LocalShellStatus">>}},
             type => {required,{enum,[local_shell_call]}},
             action => {required,{ref,<<"LocalShellAction">>}},
             call_id => {optional,{any_of,[binstr,{exact,null}]}}}},
          {struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             name => {required,binstr},
             type => {required,{enum,[function_call]}},
             arguments => {required,binstr},
             call_id => {required,binstr}}},
          {struct,
           #{output => {required,{ref,<<"FunctionCallOutputPayload">>}},
             type => {required,{enum,[function_call_output]}},
             call_id => {required,binstr}}},
          {struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             input => {required,binstr},
             name => {required,binstr},
             status => {optional,{any_of,[binstr,{exact,null}]}},
             type => {required,{enum,[custom_tool_call]}},
             call_id => {required,binstr}}},
          {struct,
           #{output => {required,binstr},
             type => {required,{enum,[custom_tool_call_output]}},
             call_id => {required,binstr}}},
          {struct,
           #{id => {optional,{any_of,[binstr,{exact,null}]}},
             status => {optional,{any_of,[binstr,{exact,null}]}},
             type => {required,{enum,[web_search_call]}},
             action =>
              {optional,{any_of,[{ref,<<"WebSearchAction">>},{exact,null}]}}}},
          {struct,
           #{type => {required,{enum,[ghost_snapshot]}},
             ghost_commit => {required,{ref,<<"GhostCommit">>}}}},
          {struct,
           #{type => {required,{enum,[compaction]}},
             encrypted_content => {required,binstr}}},
          {struct,#{type => {required,{enum,[other]}}}}]},
       <<"AddConversationListenerParams">> =>
        {struct,
         #{conversationId => {required,{ref,<<"ThreadId">>}},
           experimentalRawEvents => {optional,{default,{false,boolean}}}}},
       <<"MessagePhase">> => {enum,[commentary,final_answer]},
       <<"FunctionCallOutputPayload">> =>
        {struct,
         #{success => {optional,{any_of,[boolean,{exact,null}]}},
           body => {required,{ref,<<"FunctionCallOutputBody">>}}}},
       <<"SandboxPolicy">> =>
        {any_of,
         [{struct,#{type => {required,{enum,[dangerFullAccess]}}}},
          {struct,#{type => {required,{enum,[readOnly]}}}},
          {struct,
           #{type => {required,{enum,[externalSandbox]}},
             networkAccess =>
              {optional,
               {default,
                {<<"restricted">>,{all_of,[{ref,<<"NetworkAccess">>}]}}}}}},
          {struct,
           #{type => {required,{enum,[workspaceWrite]}},
             networkAccess => {optional,{default,{false,boolean}}},
             excludeSlashTmp => {optional,{default,{false,boolean}}},
             excludeTmpdirEnvVar => {optional,{default,{false,boolean}}},
             writableRoots =>
              {optional,{default,{[],{list,{ref,<<"AbsolutePathBuf">>}}}}}}}]},
       <<"TextElement">> =>
        {struct,
         #{byteRange => {required,{all_of,[{ref,<<"ByteRange">>}]}},
           placeholder => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ThreadRollbackParams">> =>
        {struct,
         #{threadId => {required,binstr},numTurns => {required,integer}}},
       <<"ThreadListParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}},
           modelProviders => {optional,{any_of,[{list,binstr},{exact,null}]}},
           archived => {optional,{any_of,[boolean,{exact,null}]}},
           sortKey =>
            {optional,{any_of,[{ref,<<"ThreadSortKey">>},{exact,null}]}},
           sourceKinds =>
            {optional,
             {any_of,[{list,{ref,<<"ThreadSourceKind">>}},{exact,null}]}}}},
       <<"UserInput">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[text]}},
             text => {required,binstr},
             text_elements =>
              {optional,{default,{[],{list,{ref,<<"TextElement">>}}}}}}},
          {struct,
           #{type => {required,{enum,[image]}},url => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[localImage]}},
             path => {required,binstr}}},
          {struct,
           #{name => {required,binstr},
             type => {required,{enum,[skill]}},
             path => {required,binstr}}},
          {struct,
           #{name => {required,binstr},
             type => {required,{enum,[mention]}},
             path => {required,binstr}}}]},
       <<"ModelListParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"FeedbackUploadParams">> =>
        {struct,
         #{reason => {optional,{any_of,[binstr,{exact,null}]}},
           threadId => {optional,{any_of,[binstr,{exact,null}]}},
           classification => {required,binstr},
           includeLogs => {required,boolean}}},
       <<"AbsolutePathBuf">> => binstr,
       <<"FunctionCallOutputContentItem">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[input_text]}},
             text => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[input_image]}},
             image_url => {required,binstr}}}]},
       <<"ConfigBatchWriteParams">> =>
        {struct,
         #{filePath => {optional,{any_of,[binstr,{exact,null}]}},
           edits => {required,{list,{ref,<<"ConfigEdit">>}}},
           expectedVersion => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ResumeConversationParams">> =>
        {struct,
         #{path => {optional,{any_of,[binstr,{exact,null}]}},
           history =>
            {optional,{any_of,[{list,{ref,<<"ResponseItem">>}},{exact,null}]}},
           conversationId =>
            {optional,{any_of,[{ref,<<"ThreadId">>},{exact,null}]}},
           overrides =>
            {optional,
             {any_of,[{ref,<<"NewConversationParams">>},{exact,null}]}}}},
       <<"ReviewDelivery">> => {enum,[inline,detached]},
       <<"ThreadId">> => binstr,
       <<"CancelLoginAccountParams">> =>
        {struct,#{loginId => {required,binstr}}},
       <<"AskForApproval2">> =>
        {any_of,
         [{enum,[untrusted]},
          {enum,['on-failure']},
          {enum,['on-request']},
          {enum,[never]}]},
       <<"SkillsRemoteWriteParams">> =>
        {struct,
         #{hazelnutId => {required,binstr},isPreload => {required,boolean}}},
       <<"ReviewTarget">> =>
        {any_of,
         [{struct,#{type => {required,{enum,[uncommittedChanges]}}}},
          {struct,
           #{type => {required,{enum,[baseBranch]}},
             branch => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[commit]}},
             title => {optional,{any_of,[binstr,{exact,null}]}},
             sha => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[custom]}},
             instructions => {required,binstr}}}]},
       <<"ThreadCompactStartParams">> =>
        {struct,#{threadId => {required,binstr}}},
       <<"ConfigEdit">> =>
        {struct,
         #{value => {required,term},
           keyPath => {required,binstr},
           mergeStrategy => {required,{ref,<<"MergeStrategy">>}}}},
       <<"ForkConversationParams">> =>
        {struct,
         #{path => {optional,{any_of,[binstr,{exact,null}]}},
           conversationId =>
            {optional,{any_of,[{ref,<<"ThreadId">>},{exact,null}]}},
           overrides =>
            {optional,
             {any_of,[{ref,<<"NewConversationParams">>},{exact,null}]}}}},
       <<"FunctionCallOutputBody">> =>
        {any_of,[binstr,{list,{ref,<<"FunctionCallOutputContentItem">>}}]},
       <<"ClientInfo">> =>
        {struct,
         #{name => {required,binstr},
           version => {required,binstr},
           title => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"Settings">> =>
        {struct,
         #{model => {required,binstr},
           developer_instructions => {optional,{any_of,[binstr,{exact,null}]}},
           reasoning_effort =>
            {optional,{any_of,[{ref,<<"ReasoningEffort">>},{exact,null}]}}}},
       <<"LoginApiKeyParams">> => {struct,#{apiKey => {required,binstr}}},
       <<"GitDiffToRemoteParams">> => {struct,#{cwd => {required,binstr}}},
       <<"InputItem">> =>
        {any_of,
         [{struct,
           #{data =>
              {required,
               {struct,
                #{text => {required,binstr},
                  text_elements =>
                   {optional,
                    {default,{[],{list,{ref,<<"V1TextElement">>}}}}}}}},
             type => {required,{enum,[text]}}}},
          {struct,
           #{data => {required,{struct,#{image_url => {required,binstr}}}},
             type => {required,{enum,[image]}}}},
          {struct,
           #{data => {required,{struct,#{path => {required,binstr}}}},
             type => {required,{enum,[localImage]}}}}]},
       <<"LocalShellStatus">> => {enum,[completed,in_progress,incomplete]},
       <<"SkillsListParams">> =>
        {struct,
         #{cwds => {optional,{list,binstr}},
           forceReload => {optional,boolean}}},
       <<"SandboxMode">> =>
        {enum,['read-only','workspace-write','danger-full-access']},
       <<"NewConversationParams">> =>
        {struct,
         #{profile => {optional,{any_of,[binstr,{exact,null}]}},
           config => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval2">>},{exact,null}]}},
           baseInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           compactPrompt => {optional,{any_of,[binstr,{exact,null}]}},
           developerInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           includeApplyPatchTool => {optional,{any_of,[boolean,{exact,null}]}},
           modelProvider => {optional,{any_of,[binstr,{exact,null}]}},
           sandbox =>
            {optional,{any_of,[{ref,<<"SandboxMode2">>},{exact,null}]}}}},
       <<"InterruptConversationParams">> =>
        {struct,#{conversationId => {required,{ref,<<"ThreadId">>}}}},
       <<"GhostCommit">> =>
        {struct,
         #{id => {required,binstr},
           parent => {optional,{any_of,[binstr,{exact,null}]}},
           preexisting_untracked_dirs => {required,{list,binstr}},
           preexisting_untracked_files => {required,{list,binstr}}}},
       <<"ThreadSortKey">> => {enum,[created_at,updated_at]},
       <<"ListMcpServerStatusParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"V1ByteRange">> =>
        {struct,#{start => {required,integer},'end' => {required,integer}}},
       <<"NetworkAccess2">> => {enum,[restricted,enabled]},
       <<"ModeKind">> => {enum,[plan,default]},
       <<"Personality">> => {enum,[none,friendly,pragmatic]},
       <<"ThreadStartParams">> =>
        {struct,
         #{config => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval">>},{exact,null}]}},
           personality =>
            {optional,{any_of,[{ref,<<"Personality">>},{exact,null}]}},
           experimentalRawEvents => {optional,{default,{false,boolean}}},
           baseInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           developerInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           modelProvider => {optional,{any_of,[binstr,{exact,null}]}},
           sandbox =>
            {optional,{any_of,[{ref,<<"SandboxMode">>},{exact,null}]}},
           ephemeral => {optional,{any_of,[boolean,{exact,null}]}}}},
       <<"ReasoningItemReasoningSummary">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[summary_text]}},
             text => {required,binstr}}}]},
       <<"SendUserMessageParams">> =>
        {struct,
         #{items => {required,{list,{ref,<<"InputItem">>}}},
           conversationId => {required,{ref,<<"ThreadId">>}}}},
       <<"GetConversationSummaryParams">> =>
        {any_of,
         [{struct,#{rolloutPath => {required,binstr}}},
          {struct,#{conversationId => {required,{ref,<<"ThreadId">>}}}}]},
       <<"SetDefaultModelParams">> =>
        {struct,
         #{model => {optional,{any_of,[binstr,{exact,null}]}},
           reasoningEffort =>
            {optional,{any_of,[{ref,<<"ReasoningEffort">>},{exact,null}]}}}},
       <<"ReasoningItemContent">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[reasoning_text]}},
             text => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[text]}},text => {required,binstr}}}]},
       <<"ThreadResumeParams">> =>
        {struct,
         #{config => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
           path => {optional,{any_of,[binstr,{exact,null}]}},
           history =>
            {optional,{any_of,[{list,{ref,<<"ResponseItem">>}},{exact,null}]}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           threadId => {required,binstr},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval">>},{exact,null}]}},
           personality =>
            {optional,{any_of,[{ref,<<"Personality">>},{exact,null}]}},
           baseInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           developerInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           modelProvider => {optional,{any_of,[binstr,{exact,null}]}},
           sandbox =>
            {optional,{any_of,[{ref,<<"SandboxMode">>},{exact,null}]}}}},
       <<"ThreadSourceKind">> =>
        {enum,
         [cli,vscode,exec,appServer,subAgent,subAgentReview,subAgentCompact,
          subAgentThreadSpawn,subAgentOther,unknown]},
       <<"FuzzyFileSearchParams">> =>
        {struct,
         #{query => {required,binstr},
           roots => {required,{list,binstr}},
           cancellationToken => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ThreadLoadedListParams">> =>
        {struct,
         #{limit => {optional,{any_of,[integer,{exact,null}]}},
           cursor => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"ThreadReadParams">> =>
        {struct,
         #{threadId => {required,binstr},
           includeTurns => {optional,{default,{false,boolean}}}}},
       <<"SkillsConfigWriteParams">> =>
        {struct,#{enabled => {required,boolean},path => {required,binstr}}},
       <<"WebSearchAction">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[search]}},
             query => {optional,{any_of,[binstr,{exact,null}]}},
             queries => {optional,{any_of,[{list,binstr},{exact,null}]}}}},
          {struct,
           #{type => {required,{enum,[open_page]}},
             url => {optional,{any_of,[binstr,{exact,null}]}}}},
          {struct,
           #{type => {required,{enum,[find_in_page]}},
             pattern => {optional,{any_of,[binstr,{exact,null}]}},
             url => {optional,{any_of,[binstr,{exact,null}]}}}},
          {struct,#{type => {required,{enum,[other]}}}}]},
       <<"ConfigReadParams">> =>
        {struct,
         #{cwd => {optional,{any_of,[binstr,{exact,null}]}},
           includeLayers => {optional,{default,{false,boolean}}}}},
       <<"ByteRange">> =>
        {struct,#{start => {required,integer},'end' => {required,integer}}},
       <<"CancelLoginChatGptParams">> =>
        {struct,#{loginId => {required,binstr}}},
       <<"RemoveConversationListenerParams">> =>
        {struct,#{subscriptionId => {required,binstr}}},
       <<"ExecOneOffCommandParams">> =>
        {struct,
         #{command => {required,{list,binstr}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           sandboxPolicy =>
            {optional,{any_of,[{ref,<<"SandboxPolicy2">>},{exact,null}]}},
           timeoutMs => {optional,{any_of,[integer,{exact,null}]}}}},
       <<"NetworkAccess">> => {enum,[restricted,enabled]},
       <<"ReviewStartParams">> =>
        {struct,
         #{threadId => {required,binstr},
           delivery =>
            {optional,
             {default,
              {null,{any_of,[{ref,<<"ReviewDelivery">>},{exact,null}]}}}},
           target => {required,{ref,<<"ReviewTarget">>}}}},
       <<"ConfigValueWriteParams">> =>
        {struct,
         #{value => {required,term},
           filePath => {optional,{any_of,[binstr,{exact,null}]}},
           expectedVersion => {optional,{any_of,[binstr,{exact,null}]}},
           keyPath => {required,binstr},
           mergeStrategy => {required,{ref,<<"MergeStrategy">>}}}},
       <<"InitializeParams">> =>
        {struct,
         #{capabilities =>
            {optional,
             {any_of,[{ref,<<"InitializeCapabilities">>},{exact,null}]}},
           clientInfo => {required,{ref,<<"ClientInfo">>}}}},
       <<"ContentItem">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[input_text]}},
             text => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[input_image]}},
             image_url => {required,binstr}}},
          {struct,
           #{type => {required,{enum,[output_text]}},
             text => {required,binstr}}}]},
       <<"RequestId">> => {any_of,[binstr,integer]},
       <<"ThreadForkParams">> =>
        {struct,
         #{config => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
           path => {optional,{any_of,[binstr,{exact,null}]}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           threadId => {required,binstr},
           model => {optional,{any_of,[binstr,{exact,null}]}},
           approvalPolicy =>
            {optional,{any_of,[{ref,<<"AskForApproval">>},{exact,null}]}},
           baseInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           developerInstructions => {optional,{any_of,[binstr,{exact,null}]}},
           modelProvider => {optional,{any_of,[binstr,{exact,null}]}},
           sandbox =>
            {optional,{any_of,[{ref,<<"SandboxMode">>},{exact,null}]}}}},
       <<"DynamicToolSpec">> =>
        {struct,
         #{name => {required,binstr},
           description => {required,binstr},
           inputSchema => {required,term}}},
       <<"SandboxMode2">> =>
        {enum,['read-only','workspace-write','danger-full-access']},
       <<"CollaborationMode">> =>
        {struct,
         #{mode => {required,{ref,<<"ModeKind">>}},
           settings => {required,{ref,<<"Settings">>}}}},
       <<"GetAccountParams">> =>
        {struct,#{refreshToken => {optional,{default,{false,boolean}}}}},
       <<"SandboxPolicy2">> =>
        {any_of,
         [{struct,#{type => {required,{enum,['danger-full-access']}}}},
          {struct,#{type => {required,{enum,['read-only']}}}},
          {struct,
           #{type => {required,{enum,['external-sandbox']}},
             network_access =>
              {optional,
               {default,
                {<<"restricted">>,{all_of,[{ref,<<"NetworkAccess2">>}]}}}}}},
          {struct,
           #{type => {required,{enum,['workspace-write']}},
             network_access => {optional,{default,{false,boolean}}},
             exclude_slash_tmp => {optional,{default,{false,boolean}}},
             exclude_tmpdir_env_var => {optional,{default,{false,boolean}}},
             writable_roots =>
              {optional,{list,{ref,<<"AbsolutePathBuf">>}}}}}]},
       <<"LoginAccountParams">> =>
        {any_of,
         [{struct,
           #{type => {required,{enum,[apiKey]}},apiKey => {required,binstr}}},
          {struct,#{type => {required,{enum,[chatgpt]}}}},
          {struct,
           #{type => {required,{enum,[chatgptAuthTokens]}},
             accessToken => {required,binstr},
             idToken => {required,binstr}}}]},
       <<"GetAuthStatusParams">> =>
        {struct,
         #{refreshToken => {optional,{any_of,[boolean,{exact,null}]}},
           includeToken => {optional,{any_of,[boolean,{exact,null}]}}}},
       <<"ThreadSetNameParams">> =>
        {struct,#{name => {required,binstr},threadId => {required,binstr}}},
       <<"MergeStrategy">> => {enum,[replace,upsert]},
       <<"CommandExecParams">> =>
        {struct,
         #{command => {required,{list,binstr}},
           cwd => {optional,{any_of,[binstr,{exact,null}]}},
           sandboxPolicy =>
            {optional,{any_of,[{ref,<<"SandboxPolicy">>},{exact,null}]}},
           timeoutMs => {optional,{any_of,[integer,{exact,null}]}}}},
       <<"InitializeCapabilities">> =>
        {struct,#{experimentalApi => {optional,{default,{false,boolean}}}}},
       <<"ReasoningSummary">> =>
        {any_of,[{enum,[auto,concise,detailed]},{enum,[none]}]},
       <<"V1TextElement">> =>
        {struct,
         #{byteRange => {required,{all_of,[{ref,<<"V1ByteRange">>}]}},
           placeholder => {optional,{any_of,[binstr,{exact,null}]}}}},
       <<"SendUserTurnParams">> =>
        {struct,
         #{items => {required,{list,{ref,<<"InputItem">>}}},
           cwd => {required,binstr},
           conversationId => {required,{ref,<<"ThreadId">>}},
           model => {required,binstr},
           summary => {required,{ref,<<"ReasoningSummary">>}},
           sandboxPolicy => {required,{ref,<<"SandboxPolicy2">>}},
           approvalPolicy => {required,{ref,<<"AskForApproval2">>}},
           effort =>
            {optional,{any_of,[{ref,<<"ReasoningEffort">>},{exact,null}]}},
           outputSchema => {optional,term}}},
       <<"TurnInterruptParams">> =>
        {struct,#{threadId => {required,binstr},turnId => {required,binstr}}},
       <<"LocalShellAction">> =>
        {any_of,
         [{struct,
           #{command => {required,{list,binstr}},
             env => {optional,{any_of,[{map,{binstr,term}},{exact,null}]}},
             type => {required,{enum,[exec]}},
             user => {optional,{any_of,[binstr,{exact,null}]}},
             timeout_ms => {optional,{any_of,[integer,{exact,null}]}},
             working_directory =>
              {optional,{any_of,[binstr,{exact,null}]}}}}]},
       <<"ThreadUnarchiveParams">> =>
        {struct,#{threadId => {required,binstr}}}},
     {any_of,
      [{struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"InitializeParams">>}},
          method => {required,{enum,[initialize]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadStartParams">>}},
          method => {required,{enum,['thread/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadResumeParams">>}},
          method => {required,{enum,['thread/resume']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadForkParams">>}},
          method => {required,{enum,['thread/fork']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadArchiveParams">>}},
          method => {required,{enum,['thread/archive']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadSetNameParams">>}},
          method => {required,{enum,['thread/name/set']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadUnarchiveParams">>}},
          method => {required,{enum,['thread/unarchive']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadCompactStartParams">>}},
          method => {required,{enum,['thread/compact/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadRollbackParams">>}},
          method => {required,{enum,['thread/rollback']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadListParams">>}},
          method => {required,{enum,['thread/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadLoadedListParams">>}},
          method => {required,{enum,['thread/loaded/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ThreadReadParams">>}},
          method => {required,{enum,['thread/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SkillsListParams">>}},
          method => {required,{enum,['skills/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SkillsRemoteReadParams">>}},
          method => {required,{enum,['skills/remote/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SkillsRemoteWriteParams">>}},
          method => {required,{enum,['skills/remote/write']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"AppsListParams">>}},
          method => {required,{enum,['app/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SkillsConfigWriteParams">>}},
          method => {required,{enum,['skills/config/write']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"TurnStartParams">>}},
          method => {required,{enum,['turn/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"TurnInterruptParams">>}},
          method => {required,{enum,['turn/interrupt']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ReviewStartParams">>}},
          method => {required,{enum,['review/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ModelListParams">>}},
          method => {required,{enum,['model/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"McpServerOauthLoginParams">>}},
          method => {required,{enum,['mcpServer/oauth/login']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,['config/mcpServer/reload']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ListMcpServerStatusParams">>}},
          method => {required,{enum,['mcpServerStatus/list']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"LoginAccountParams">>}},
          method => {required,{enum,['account/login/start']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"CancelLoginAccountParams">>}},
          method => {required,{enum,['account/login/cancel']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,['account/logout']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,['account/rateLimits/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"FeedbackUploadParams">>}},
          method => {required,{enum,['feedback/upload']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"CommandExecParams">>}},
          method => {required,{enum,['command/exec']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ConfigReadParams">>}},
          method => {required,{enum,['config/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ConfigValueWriteParams">>}},
          method => {required,{enum,['config/value/write']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ConfigBatchWriteParams">>}},
          method => {required,{enum,['config/batchWrite']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,['configRequirements/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"GetAccountParams">>}},
          method => {required,{enum,['account/read']}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"NewConversationParams">>}},
          method => {required,{enum,[newConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"GetConversationSummaryParams">>}},
          method => {required,{enum,[getConversationSummary]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ListConversationsParams">>}},
          method => {required,{enum,[listConversations]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ResumeConversationParams">>}},
          method => {required,{enum,[resumeConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ForkConversationParams">>}},
          method => {required,{enum,[forkConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ArchiveConversationParams">>}},
          method => {required,{enum,[archiveConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SendUserMessageParams">>}},
          method => {required,{enum,[sendUserMessage]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SendUserTurnParams">>}},
          method => {required,{enum,[sendUserTurn]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"InterruptConversationParams">>}},
          method => {required,{enum,[interruptConversation]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"AddConversationListenerParams">>}},
          method => {required,{enum,[addConversationListener]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"RemoveConversationListenerParams">>}},
          method => {required,{enum,[removeConversationListener]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"GitDiffToRemoteParams">>}},
          method => {required,{enum,[gitDiffToRemote]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"LoginApiKeyParams">>}},
          method => {required,{enum,[loginApiKey]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[loginChatGpt]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"CancelLoginChatGptParams">>}},
          method => {required,{enum,[cancelLoginChatGpt]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[logoutChatGpt]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"GetAuthStatusParams">>}},
          method => {required,{enum,[getAuthStatus]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[getUserSavedConfig]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"SetDefaultModelParams">>}},
          method => {required,{enum,[setDefaultModel]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[getUserAgent]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {optional,{exact,null}},
          method => {required,{enum,[userInfo]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"FuzzyFileSearchParams">>}},
          method => {required,{enum,[fuzzyFileSearch]}}}},
       {struct,
        #{id => {required,{ref,<<"RequestId">>}},
          params => {required,{ref,<<"ExecOneOffCommandParams">>}},
          method => {required,{enum,[execOneOffCommand]}}}}]}}}}.
