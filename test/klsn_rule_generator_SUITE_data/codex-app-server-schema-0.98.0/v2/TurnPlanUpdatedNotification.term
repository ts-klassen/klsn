#{to_json =>
      {with_defs,
          {#{<<"TurnPlanStep">> =>
                 {struct,
                     #{status => {required,{ref,<<"TurnPlanStepStatus">>}},
                       step => {required,binstr}}},
             <<"TurnPlanStepStatus">> =>
                 {enum,[pending,inProgress,completed]}},
           {struct,
               #{plan => {required,{list,{ref,<<"TurnPlanStep">>}}},
                 threadId => {required,binstr},
                 turnId => {required,binstr},
                 explanation => {optional,{any_of,[binstr,{exact,null}]}}}}}},
  from_json =>
      {with_defs,
          {#{<<"TurnPlanStep">> =>
                 {struct,
                     #{status => {required,{ref,<<"TurnPlanStepStatus">>}},
                       step => {required,binstr}}},
             <<"TurnPlanStepStatus">> =>
                 {enum,[pending,inProgress,completed]}},
           {struct,
               #{plan => {required,{list,{ref,<<"TurnPlanStep">>}}},
                 threadId => {required,binstr},
                 turnId => {required,binstr},
                 explanation => {optional,{any_of,[binstr,{exact,null}]}}}}}}}.
